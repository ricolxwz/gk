---
title: 信息论:关系代数
comments: true
---

关系代数(Relational Algebra)是一种基于集合论的数学理论, 用于对关系数据库中的数据进行建模和查询. 它由埃德加·F·科德(Edgar F. Codd)提出, 提供了一套运算符, 这些运算符可以对一个或者多个关系进行操作, 生成新的关系作为结果. 

## 运算符

关系代数的基本运算包括:

- 一元运算符, Unary Operator
    - 投影(π): 从关系中选择某些列
    - 重命名(ρ): 重命名属性或者关系
- 二元运算符, Binary Operator
    - 连接操作符 
        - 笛卡尔积(×): 将两个关系中所有元组组合起来, 形成一个新的关系
        - 连接(⋈): 将两个关系中匹配的元组组合起来, 通常会基于共同的属性进行匹配
    - 集合操作符
        - 并(∪): 返回关系A和B中所有元素的并集, 包含A和B中所有的元素, 不重复
        - 交(∩): 返回关系A和B中同时存在的元组
        - 差(-): 返回只在关系A中存在而不在关系B中存在的元组

这些运算符可以组合使用, 以表达更加复杂的查询. 关系代数描述了得到答案的详细步骤, 因此它是一种过程式语言. 元组演算相比之下是一种声明式语言, 描述的是最终状态的结果. SQL是声明式的. 

## RA在RDBMS中的角色

1. 用户发出一个声明式的查询, 也就是我们常写的SQL语句
2. SQL查询被解析器解析, 转为关系代数表达式
3. 查询优化器对关系代数表达器进行优化, 寻找逻辑上等价但是更有效率的表达方式
4. 优化后的关系代数表达式被转换为查询执行计划, 这是一种低层次的描述, 说明如何具体执行查询
5. 查询执行计划被转换为可执行代码
6. 最后生成的代码在数据库引擎中执行, 以实际获取查询结果

如[图](https://img.ricolxwz.io/2024/08/79349016c11055718d8ce3bc39138192.png).